{% extends "layout.html" %}
{% block content %}
{% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
            <div class="alert alert-{{ category }}">
                {{ message | safe }}
            </div>
        {% endfor %}
    {% endif %}
{% endwith %}
    <div class="content-section">
        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Vote</legend>
                <!-- Full Name Field -->
                <div class="form-group">
                    {{ form.full_name.label(class="form-control-label") }}
                    {% if form.full_name.errors %}
                        {{ form.full_name(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.full_name.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.full_name(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <!-- Email Field -->
                <div class="form-group">
                    {{ form.email.label(class="form-control-label") }}
                    {% if form.email.errors %}
                        {{ form.email(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.email(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <!-- ORCID iD Field -->
                <div class="form-group">
                    {{ form.orcid_id.label(class="form-control-label") }}
                    {% if form.orcid_id.errors %}
                        {{ form.orcid_id(id="orcid", class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.orcid_id.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.orcid_id(id="orcid", class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <!-- Candidate 1st Selection -->
                <div class="form-group">
                    {{ form.selection_1.label(class="form-control-label") }}
                    {% if form.selection_1.errors %}
                        {{ form.selection_1(class="form-control form-control-lg is-invalid choice") }}
                        <div class="invalid-feedback">
                            {% for error in form.selection_1.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.selection_1(class="form-control form-control-lg choice") }}
                    {% endif %}
                    <option value="" selected>Select a candidate...</option>
                </div>
                <!-- Candidate 2nd Selection -->
                <div class="form-group">
                    {{ form.selection_2.label(class="form-control-label") }}
                    {% if form.selection_2.errors %}
                        {{ form.selection_2(class="form-control form-control-lg is-invalid choice") }}
                        <div class="invalid-feedback">
                            {% for error in form.selection_2.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.selection_2(class="form-control form-control-lg choice") }}
                    {% endif %}
                    <option value="" selected>Select a candidate...</option>
                </div>
                <!-- Candidate 3rd Selection -->
                <div class="form-group">
                    {{ form.selection_3.label(class="form-control-label") }}
                    {% if form.selection_3.errors %}
                        {{ form.selection_3(class="form-control form-control-lg is-invalid choice") }}
                        <div class="invalid-feedback">
                            {% for error in form.selection_3.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.selection_3(class="form-control form-control-lg choice") }}
                    {% endif %}
                    <option value="" selected>Select a candidate...</option>
                </div>
                <!-- Candidate 4th Selection -->
                <div class="form-group">
                    {{ form.selection_4.label(class="form-control-label") }}
                    {% if form.selection_4.errors %}
                        {{ form.selection_4(class="form-control form-control-lg is-invalid choice") }}
                        <div class="invalid-feedback">
                            {% for error in form.selection_4.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.selection_4(class="form-control form-control-lg choice") }}
                    {% endif %}
                    <option value="" selected>Select a candidate...</option>
                </div>
                <!-- Candidate 5th Selection -->
                <div class="form-group">
                    {{ form.selection_5.label(class="form-control-label") }}
                    {% if form.selection_5.errors %}
                        {{ form.selection_5(class="form-control form-control-lg is-invalid choice") }}
                        <div class="invalid-feedback">
                            {% for error in form.selection_5.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.selection_5(class="form-control form-control-lg choice") }}
                    {% endif %}
                    <option value="" selected>Select a candidate...</option>
                </div>
            </fieldset>
            <!-- Confirmation Email Checkbox -->
            <div class="form-group">
                {{ form.send_email.label(class="form-control-label") }}
                {{ form.send_email() }}
            </div>
            <!-- Submit Button -->
            <div class="form-group">
                {{ form.submit(class="btn btn-outline-info") }}
            </div>
        </form>
    </div>
    <!-- Return to SEES main page -->
    <div class="border-top pt-3">
        <small class="text-muted">
            Already voted? Go back to the main <a href="https://seescience.org">election</a> page.
        </small>
    </div>
{% endblock content %}